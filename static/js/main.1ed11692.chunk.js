(this["webpackJsonpjs-esri"]=this["webpackJsonpjs-esri"]||[]).push([[0],{40:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s,r,c,n,i,o,l,d,j,b,u,m,p,h,O=a(1),f=a(0),x=a(17),g=a.n(x),y=(a(40),a(41),a(53)),v=a(52),w=a(51),N=a(6),S=Object(f.createContext)(),C=function(e){var t=Object(f.useState)("gray"),a=Object(N.a)(t,2),s=a[0],r=a[1],c=Object(f.useState)(null),n=Object(N.a)(c,2),i=n[0],o=n[1],l=Object(f.useState)(null),d=Object(N.a)(l,2),j=d[0],b=d[1],u=Object(f.useState)(null),m=Object(N.a)(u,2),p=m[0],h=m[1],x=Object(f.useState)(!1),g=Object(N.a)(x,2),y=g[0],v=g[1],w=Object(f.useState)(!1),C=Object(N.a)(w,2),k=C[0],L=C[1],P=Object(f.useState)(!1),W=Object(N.a)(P,2),I=W[0],E=W[1],q=Object(f.useState)(!1),M=Object(N.a)(q,2),_=M[0],B=M[1],G=Object(f.useState)(!1),T=Object(N.a)(G,2),F=T[0],D=T[1],V=Object(f.useState)(!1),A=Object(N.a)(V,2),z=A[0],R=A[1],H=Object(f.useState)(!1),J=Object(N.a)(H,2),Z=J[0],U=J[1],K=Object(f.useState)(null),Q=Object(N.a)(K,2),X=Q[0],Y=Q[1],$=Object(f.useState)(!1),ee=Object(N.a)($,2),te=ee[0],ae=ee[1],se=Object(f.useState)(!1),re=Object(N.a)(se,2),ce=re[0],ne=re[1],ie=Object(f.useState)(!1),oe=Object(N.a)(ie,2),le=oe[0],de=oe[1],je=Object(f.useState)(!1),be=Object(N.a)(je,2),ue=be[0],me=be[1],pe=Object(f.useState)(!1),he=Object(N.a)(pe,2),Oe=he[0],fe=he[1];return Object(O.jsx)(S.Provider,{value:{basemap:s,setBasemap:r,browserLocation:i,setBrowserLocation:o,browserLocationError:j,setbrowserLocationError:b,webmap:p,setWebmap:h,permitVis:y,setPermitVis:v,nopermitVis:k,setNopermitVis:L,loadLayer:I,setLoadLayer:E,loadPermit:_,setLoadPermit:B,permitData:F,setPermitData:D,loadNopermit:z,setLoadNopermit:R,nopermitData:Z,setNopermitData:U,zoomObject:X,setZoomObject:Y,searchWidget:te,setSearchWidget:ae,basemapWidget:ce,setBasemapWidget:ne,compassWidget:le,setCompassWidget:de,measurementWidget:ue,setMeasurementWidget:me,legendWidget:Oe,setLegendWidget:fe},children:e.children})},k=S,L=function(){var e=Object(f.useContext)(k).setBasemap;return Object(O.jsx)(v.a.Item,{className:"bg-dark text-white border-white",children:Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Base map"}),Object(O.jsxs)(w.a.Control,{as:"select",onChange:function(t){return e(t.target.value)},children:[Object(O.jsx)("option",{value:"gray",children:"Gray"}),Object(O.jsx)("option",{value:"dark-gray",children:"Dark Gray"}),Object(O.jsx)("option",{value:"osm",children:"OpenStreetMap"}),Object(O.jsx)("option",{value:"terrain",children:"Terrain"}),Object(O.jsx)("option",{value:"topo",children:"Topography"}),Object(O.jsx)("option",{value:"satellite",children:"Satellite"})]})]})})},P=a(47),W=function(){var e=Object(f.useContext)(k),t=e.setBrowserLocation,a=e.browserLocationError,s=e.setbrowserLocationError;return Object(O.jsxs)(v.a.Item,{className:"bg-dark text-white border-white",children:[a&&Object(O.jsx)("div",{className:"bg-danger border-danager p-1 rounded my-2",children:a}),Object(O.jsx)("p",{children:"Get your Coordinates:"}),Object(O.jsx)(P.a,{variant:"light",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.longitude,s=e.coords.latitude;t([a,s])}),(function(e){s("allow browser geolocation")}))},children:"Bowser coordinates"})]})},I=a(48),E=a(33),q=function(){var e=Object(f.useContext)(k).setWebmap,t=Object(f.useState)("e691172598f04ea8881cd2a4adaa45ba"),a=Object(N.a)(t,2),s=a[0],r=a[1];return Object(O.jsxs)(v.a.Item,{className:"bg-dark text-white border-white",children:[Object(O.jsxs)(w.a.Group,{children:[Object(O.jsxs)(w.a.Label,{children:["Portal map ",Object(O.jsx)("em",{children:"(this will load the web map by its id)"})]}),Object(O.jsxs)(w.a.Control,{as:"select",onChange:function(e){return r(e.target.value)},value:s,children:[Object(O.jsx)("option",{value:"e691172598f04ea8881cd2a4adaa45ba",children:"Accidental deaths"}),Object(O.jsx)("option",{value:"7ee3c8a93f254753a83ac0195757f137",children:"Injury counts"}),Object(O.jsx)("option",{value:"41281c51f9de45edaf1c8ed44bb10e30",children:"Parks and trails map"})]})]}),Object(O.jsxs)(w.a.Group,{children:[Object(O.jsx)(w.a.Label,{children:"Or enter the id for the map:"}),Object(O.jsx)(w.a.Control,{type:"text",value:s,onChange:function(e){return r(e.target.value)},placeholder:"enter id of the map"}),Object(O.jsxs)(I.a,{className:"p-0 m-auto",children:[Object(O.jsx)(E.a,{md:6,className:"p-0",children:Object(O.jsx)(P.a,{variant:"light",className:"my-3 mx-0",onClick:function(){return e(s)},children:"Load map"})}),Object(O.jsx)(E.a,{md:6,className:"p-0",children:Object(O.jsx)(P.a,{variant:"danger",className:"my-3 mx-0",onClick:function(){return e("null")},children:"Remove map"})})]})]})]})},M=a(50),_=a(49),B=a(54),G=a(19),T=function(e,t,a){Object(G.loadModules)(["esri/geometry/Polygon"]).then((function(s){var r=new(0,Object(N.a)(s,1)[0])({rings:e.rings,spatialReference:t});a(r.extent)}))},F=function(e){var t=e.show,a=e.handleClose,s=e.data,r=Object(f.useState)(0),c=Object(N.a)(r,2),n=c[0],i=c[1],o=Object(f.useContext)(k).setZoomObject;return Object(O.jsx)(M.a,{show:t,onHide:a,className:"p-3 m-3",children:s&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M.a.Header,{className:"w-100",closeButton:!0,children:Object(O.jsxs)(M.a.Title,{children:["Layer data ","{Page: ".concat(n+1," }")]})}),Object(O.jsx)(M.a.Body,{children:Object(O.jsxs)("div",{children:[Object(O.jsxs)(_.a,{hover:!0,striped:!0,className:"m-2",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[s.fields.map((function(e){return Object(O.jsx)("th",{children:e.alias},e.alias)})),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:s.features.slice(8*n+1,8*(n+1)).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:e.attributes.objectid}),Object(O.jsx)("th",{children:e.attributes.apn}),Object(O.jsx)("th",{children:e.attributes.address}),Object(O.jsx)("th",{children:e.attributes.pool_permit}),Object(O.jsx)("th",{children:e.attributes.has_pool}),Object(O.jsx)("th",{children:Object(O.jsxs)(P.a,{onClick:function(){T(e.geometry,s.spatialReference,o)},children:[Object(O.jsx)("i",{className:"fas fa-search"})," Zoom"]})})]},e.attributes.objectid)}))})]}),Object(O.jsx)("div",{children:Object(O.jsxs)(B.a,{children:[Object(O.jsx)(B.a.First,{disabled:0===n,onClick:function(){i(0)}}),Object(O.jsx)(B.a.Prev,{disabled:0===n,onClick:function(){i(n-1)}}),n-3>=0&&Object(O.jsx)(B.a.Item,{onClick:function(){i(1)},children:1}),n-4>=0&&Object(O.jsx)(B.a.Ellipsis,{}),n-2>=0&&Object(O.jsx)(B.a.Item,{onClick:function(){i(n-2)},children:n-1}),n-1>=0&&Object(O.jsx)(B.a.Item,{onClick:function(){i(n-1)},children:n}),Object(O.jsx)(B.a.Item,{disabled:!0,children:n+1}),n+1<=Math.floor(s.features.length/8)&&Object(O.jsx)(B.a.Item,{onClick:function(){i(n+1)},children:n+2}),n+2<=Math.floor(s.features.length/8)&&Object(O.jsx)(B.a.Item,{onClick:function(){i(n+2)},children:n+3}),n+4<=Math.floor(s.features.length/8)&&Object(O.jsx)(B.a.Ellipsis,{}),n+3<=Math.floor(s.features.length/8)&&Object(O.jsx)(B.a.Item,{onClick:function(){i(Math.floor(s.features.length/8))},children:Math.floor(s.features.length/8)+1}),Object(O.jsx)(B.a.Next,{disabled:n===Math.floor(s.features.length/8),onClick:function(){i(n+1)}}),Object(O.jsx)(B.a.Last,{disabled:n===Math.floor(s.features.length/8),onClick:function(){i(Math.floor(s.features.length/8))}})]})})]})}),Object(O.jsx)(M.a.Footer,{children:Object(O.jsx)(P.a,{variant:"secondary",onClick:a,children:"Close"})})]})})},D=function(){var e=Object(f.useState)(!1),t=Object(N.a)(e,2),a=t[0],s=t[1],r=Object(f.useState)(!1),c=Object(N.a)(r,2),n=c[0],i=c[1],o=Object(f.useContext)(k),l=o.nopermitVis,d=o.setNopermitVis,j=o.permitVis,b=o.setPermitVis,u=o.setLoadLayer,m=o.setLoadPermit,p=o.setLoadNopermit,h=o.nopermitData,x=o.permitData,g=Object(f.useState)(!1),y=Object(N.a)(g,2),S=y[0],C=y[1];return Object(O.jsxs)(v.a.Item,{className:"bg-dark text-white border-white",children:[Object(O.jsx)(w.a.Group,{children:Object(O.jsxs)(w.a.Label,{children:["This part will download layer form ArcGIS REST Services"," ",Object(O.jsxs)("em",{children:["the example is done for pool permit/no permit"," ",Object(O.jsx)("a",{href:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/PoolPermits/FeatureServer",target:"_blank",rel:"noreferrer",children:"see sourse"})]})]})}),Object(O.jsxs)(I.a,{className:"p-0 m-auto",children:[Object(O.jsx)(E.a,{className:"p-0",children:Object(O.jsxs)(P.a,{variant:"light",onClick:function(){u(!0),C(!0),b(!0),d(!0)},children:["Load Layer"," "]})}),Object(O.jsx)(E.a,{className:"p-0",children:Object(O.jsxs)(P.a,{variant:"danger",onClick:function(){u(!1),C(!1),b(!1),d(!1)},children:["Reomve Layer"," "]})})]}),Object(O.jsxs)(w.a,{className:"my-3",children:[Object(O.jsxs)(w.a.Group,{className:"d-flex justify-content-between",children:[Object(O.jsx)(w.a.Check,{type:"checkbox",label:"Permit",disabled:!S,checked:j,onChange:function(e){return b(!j)}}),Object(O.jsx)(P.a,{disabled:!S,className:"py-0",variant:"info",onClick:function(){m(!0),s(!0)},children:"show data"})]}),Object(O.jsxs)(w.a.Group,{className:"d-flex justify-content-between",children:[Object(O.jsx)(w.a.Check,{type:"checkbox",label:"No Permit",disabled:!S,checked:l,onChange:function(e){return d(!l)}}),Object(O.jsx)(P.a,{disabled:!S,className:"py-0",variant:"info",onClick:function(){p(!0),i(!0)},children:"show data"})]})]}),x&&Object(O.jsx)(F,{show:a,data:x,handleClose:function(){return s(!1)}}),h&&Object(O.jsx)(F,{show:n,data:h,handleClose:function(){return i(!1)}})]})},V=function(){var e=Object(f.useContext)(k),t=e.searchWidget,a=e.setSearchWidget,s=e.basemapWidget,r=e.setBasemapWidget,c=e.compassWidget,n=e.setCompassWidget,i=e.measurementWidget,o=e.setMeasurementWidget,l=e.legendWidget,d=e.setLegendWidget;return Object(O.jsxs)(v.a.Item,{className:"bg-dark text-white border-white",children:[Object(O.jsx)("p",{children:"Toggle toolbars on map:"}),Object(O.jsxs)("div",{className:"text-center icons w-100",children:[Object(O.jsx)(P.a,{title:t?"disable search toolbar":"enable search toolbar",variant:t?"danger":"light",className:"mx-2 my-1 p-2",onClick:function(){a(!t)},children:Object(O.jsx)("i",{className:"fas fa-search"})}),Object(O.jsx)(P.a,{title:s?"disable search toolbar":"enable basemap toolbar",variant:s?"danger":"light",className:"mx-2 my-1 p-2",onClick:function(){r(!s)},children:Object(O.jsx)("i",{className:"fas fa-map"})}),Object(O.jsx)(P.a,{title:c?"disable compass toolbar":"enable compass toolbar",variant:c?"danger":"light",className:"mx-2 my-1 p-2",onClick:function(){n(!c)},children:Object(O.jsx)("i",{className:"fas fa-compass"})}),Object(O.jsx)(P.a,{title:l?"disable legend toolbar":"enable legend toolbar",variant:l?"danger":"light",className:"mx-2 my-1 p-2",onClick:function(){d(!l)},children:Object(O.jsx)("i",{className:"fas fa-layer-group"})}),Object(O.jsx)(P.a,{title:i?"disable attribute toolbar":"enable attribute toolbar",variant:i?"danger":"light",className:"mx-2 my-1 p-2",onClick:function(){o(!i)},children:Object(O.jsx)("i",{className:"fas fa-ruler"})})]})]})},A=function(){return Object(O.jsx)(v.a.Item,{className:"bg-dark text-white border-white",children:Object(O.jsxs)("p",{children:["this site is build using ArcGIS API for JavaScript, react and bootstrap",Object(O.jsx)("br",{}),"build by: ",Object(O.jsx)("strong",{children:"Mohamad Hasan"}),Object(O.jsx)("br",{}),"email:"," ",Object(O.jsx)("a",{href:"mailto: mo-hasan89@hotmail.com",className:"text-white",children:"mo-hasan89@hotmail.com"})]})})},z=function(){return Object(O.jsx)(y.a,{collapseOnSelect:!0,expand:"sm",bg:"dark",variant:"dark",className:"m-0 pl-4 flex-column overflow-auto ",style:{maxHeight:"92vh"},children:Object(O.jsxs)("div",{className:"w-100",children:[Object(O.jsxs)("div",{className:"d-flex mb-3 justify-space justify-content-between w-100 ",children:[Object(O.jsx)(y.a.Brand,{href:"/",className:"d-block",children:"ESRI JS"}),Object(O.jsx)(y.a.Toggle,{"aria-controls":"d-block responsive-navbar-nav"})]}),Object(O.jsx)(y.a.Collapse,{id:"responsive-navbar-nav bg-dark w-100",children:Object(O.jsxs)(v.a,{className:" d-block w-100 ",children:[Object(O.jsx)(L,{}),Object(O.jsx)(W,{}),Object(O.jsx)(q,{}),Object(O.jsx)(D,{}),Object(O.jsx)(V,{}),Object(O.jsx)(A,{})]})})]})})};Object(G.setDefaultOptions)({css:!0}),Object(G.loadModules)(["esri/Map","esri/views/MapView","esri/Graphic","esri/layers/GraphicsLayer","esri/WebMap","esri/layers/MapImageLayer","esri/layers/support/Sublayer","esri/geometry/Polygon","esri/geometry/support/webMercatorUtils","esri/widgets/Search","esri/widgets/BasemapGallery","esri/widgets/Expand","esri/widgets/Compass","esri/widgets/Legend","esri/widgets/Measurement"]).then((function(e){var t=Object(N.a)(e,15),a=t[0],O=t[1],f=t[2],x=t[3],g=t[4],y=t[5],v=t[6],w=t[7],S=t[8],C=t[9],k=t[10],L=t[11],P=t[12],W=t[13],I=t[14];h=I,p=W,m=P,u=L,b=k,j=C,S,w,l=a,d=y,v,s=new a({basemap:"gray"}),r=new O({container:"esrimap",map:s,center:[38.9968,34.8021],zoom:6}),n=new x,s.add(n),i=f,o=g,c=O}));var R=function(e,t){Object(G.loadModules)(["esri/request"]).then((function(a){(0,Object(N.a)(a,1)[0])(e,{responseType:"json",query:{f:"json",where:"1=1",outFields:"*",orderByFields:"objectId",returnGeometry:!0}}).then((function(e){t(e.data)}))}))},H=function(){var e=Object(f.useContext)(k),t=e.basemap,a=e.browserLocation,x=e.webmap,g=e.permitVis,y=e.nopermitVis,v=e.loadLayer,w=e.loadPermit,S=e.loadNopermit,C=e.setNopermitData,L=e.setPermitData,P=e.zoomObject,W=e.basemapWidget,I=e.searchWidget,E=e.compassWidget,q=e.measurementWidget,M=e.legendWidget,_=Object(f.useState)(),B=Object(N.a)(_,2),G=B[0],T=B[1],F=Object(f.useState)(),D=Object(N.a)(F,2),V=D[0],A=D[1],z=Object(f.useState)(),H=Object(N.a)(z,2),J=H[0],Z=H[1],U=Object(f.useState)(),K=Object(N.a)(U,2),Q=K[0],X=K[1],Y=Object(f.useState)(),$=Object(N.a)(Y,2),ee=$[0],te=$[1];return Object(f.useEffect)((function(){r&&!G&&T(r)}),[]),Object(f.useEffect)((function(){V?(V.basemap=t,A(V)):s&&(s.basemap=t,A(s))}),[t]),Object(f.useEffect)((function(){if(a){G?(G.center=a,G.zoom=15):r&&(r.center=a,r.zoom=15);var e=new i({geometry:{type:"point",longitude:a[0],latitude:a[1]},symbol:{type:"simple-marker",color:[220,53,69,.89]}});n.removeAll(),n.add(e),V?V.add(n):s.add(n)}}),[a]),Object(f.useEffect)((function(){if(x&&"null"!==x)try{var e=new o({portalItem:{id:x}}),t=new c({map:e,container:"esrimap"});A(e),T(t)}catch(r){console.log(r)}else if("null"===x){var a=new l({basemap:"gray"}),s=new c({map:a,container:"esrimap",center:[38.9968,34.8021],zoom:6});A(a),T(s)}}),[x]),Object(f.useEffect)((function(){if(v&&!J){var e=new d({url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/PoolPermits/MapServer"});V?(V.removeAll(),V.add(e),Z(e)):(s.removeAll(),s.add(e),A(s),Z(e)),e.when((function(){var t=e.allSublayers.flatten((function(e){"map-image"===e.type&&e.watch("loaded",(function(){return e.layers||e.sublayers}))}));G?G.goTo(e.fullExtent):r.goTo(e.fullExtent),X(t.items[0]),te(t.items[1])}))}}),[v]),Object(f.useEffect)((function(){J&&Q&&ee&&(Q.visible=g,ee.visible=y)}),[J,g,y]),Object(f.useEffect)((function(){w&&R("https://sampleserver6.arcgisonline.com/arcgis/rest/services/PoolPermits/FeatureServer/0/query",L)}),[w]),Object(f.useEffect)((function(){w&&R("https://sampleserver6.arcgisonline.com/arcgis/rest/services/PoolPermits/FeatureServer/1/query",C)}),[S]),Object(f.useEffect)((function(){P&&G.goTo(P)}),[P]),Object(f.useEffect)((function(){if(I)if(document.querySelector(".esri-search__container"))document.querySelector(".esri-search__container").style.display="";else{var e=new j({view:G});G?G.ui.add(e,{position:"top-right",index:1}):r.ui.add(e,{position:"top-right",index:1})}else document.querySelector(".esri-search__container")&&(document.querySelector(".esri-search__container").style.display="none")}),[I]),Object(f.useEffect)((function(){if(E)if(document.querySelector(".esri-compass"))document.querySelector(".esri-compass").style.display="";else{var e=new m({view:G});G?G.ui.add(e,{position:"bottom-left",index:1}):r.ui.add(e,{position:"bottom-left",index:1})}else document.querySelector(".esri-compass")&&(document.querySelector(".esri-compass").style.display="none")}),[E]),Object(f.useEffect)((function(){if(M)if(document.querySelector(".esri-component.esri-legend.esri-widget.esri-widget--panel"))document.querySelector(".esri-component.esri-legend.esri-widget.esri-widget--panel").style.display="";else{var e=new p({view:G||r});console.log(e),G?G.ui.add(e,{position:"bottom-right",index:1}):r.ui.add(e,{position:"bottom-right",index:1}),console.log(1)}else document.querySelector(".esri-component.esri-legend.esri-widget.esri-widget--panel")&&(document.querySelector(".esri-component.esri-legend.esri-widget.esri-widget--panel").style.display="none")}),[M]),Object(f.useEffect)((function(){if(W)if(document.querySelector(".esri-basemap-gallery__item-container"))document.querySelector(".esri-basemap-gallery__item-container").parentNode.parentNode.parentNode.parentNode.style.display="";else if(G){var e=new b({view:G}),t=new u({view:G,content:e,expandIconClass:"esri-icon-layer-list expand1"});t.autoCollapse=!0,G.ui.add(t,{position:"bottom-left",index:1})}else{var a=new b({view:r}),s=new u({view:r,content:a,expandIconClass:"esri-icon-layer-list"});s.autoCollapse=!0,r.ui.add(s,{position:"bottom-left",index:1})}else document.querySelector(".esri-basemap-gallery__item-container")&&(document.querySelector(".esri-basemap-gallery__item-container").parentNode.parentNode.parentNode.parentNode.style.display="none")}),[W]),Object(f.useEffect)((function(){if(console.log(q),q)if(document.querySelector(".esri-measurement"))document.querySelector(".esri-measurement").parentNode.parentNode.parentNode.style.display="";else if(G){var e=new h({view:G,activeTool:"distance"});console.log(e);var t=new u({view:G,content:e,expandIconClass:"esri-icon-layer-list expand1"});t.autoCollapse=!0,G.ui.add(t,{position:"bottom-left",index:1})}else{var a=new h({view:r,activeTool:"distance"}),s=new u({view:r,content:a,expandIconClass:"esri-icon-layer-list"});s.autoCollapse=!0,r.ui.add(s,{position:"bottom-left",index:1})}else document.querySelector(".esri-measurement")&&(document.querySelector(".esri-measurement").parentNode.parentNode.parentNode.style.display="none")}),[q]),Object(O.jsx)(O.Fragment,{})};var J=function(){var e=Object(f.useContext)(k).basemap;return Object(O.jsxs)(I.a,{className:"bg-dark p-0 m-0 p-0",children:[Object(O.jsx)(E.a,{md:5,className:"m-0 p-3",children:Object(O.jsx)(z,{})}),Object(O.jsx)(E.a,{md:7,className:"m-0 p-0",children:Object(O.jsx)("div",{style:{height:"100vh"},id:"esrimap",children:Object(O.jsx)(H,{basemap:e})})})]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),s(e),r(e),c(e),n(e)}))};g.a.render(Object(O.jsx)(C,{children:Object(O.jsx)(J,{})}),document.getElementById("root")),Z()}},[[45,1,2]]]);
//# sourceMappingURL=main.1ed11692.chunk.js.map